<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
	<meta charset="utf-8" />
	<h:outputScript library="js" name="jquery-2.1.4.min.js" />
	<h:outputScript library="js" name="bootstrap.js" />
	<h:outputScript library="js" name="tablepagination.js" />
	<h:outputStylesheet library="css" name="mainstyle.css" />
	<h:outputStylesheet library="css" name="bootstrap.css" />
	<title>Plataforma de Emprego - Administrador</title>
</h:head>
<h:body>
	<ui:composition template="../Admin/Layout/layout.xhtml">
		<ui:define name="content">
			<h:panelGroup layout="block" styleClass="container" id="container">
				<h:panelGroup layout="block"
					styleClass="alert col-md-offset-4 col-md-4 text-center">
					<h:messages id="messages" styleClass="list-group alert alert-info"
						globalOnly="true" infostyleClass="alert alert-success"
						errorstyleClass="alert alert-danger"
						style="list-style-type: none;" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="row spacer"></h:panelGroup>
				<h:panelGroup layout="block" styleClass="panel panel-default">
					<h:panelGroup layout="block" styleClass="panel-heading">
						<h:panelGroup layout="block" styleClass="row" id="titlerow">
							<h:panelGroup layout="block" styleClass="col-md-8">
								<h1>Nova Candidatura</h1>
							</h:panelGroup>
							<h:panelGroup layout="block"
								styleClass="col-md-offset-2 col-md-2">
								<h:panelGroup layout="block" styleClass="media">
									<h:graphicImage styleClass="media-object" library="imgs"
										name="logocritical.png"
										style="min-height: 50px; height: 50px;" />
								</h:panelGroup>
							</h:panelGroup>
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="panel-body">
						<h:form id="inputform" prependId="false"
							enctype="multipart/form-data">
							<h:panelGroup layout="block" styleClass="row">
								<h:panelGroup layout="block" styleClass="col-md-6">
									<h:message for="firstname"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputText id="firstname" value="#{newCandidacy.firstName}"
										a:placeholder="Primeiro Nome" required="true"
										styleClass="form-control" requiredMessage="" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-6">
									<h:message for="lastname"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputText id="lastname" value="#{newCandidacy.lastName}"
										a:placeholder="Segundo Nome" required="true"
										styleClass="form-control" requiredMessage="" />
								</h:panelGroup>
							</h:panelGroup>
							<br />
							<h:panelGroup layout="block" styleClass="row">
								<h:panelGroup layout="block" styleClass="col-md-4">
									<h:message for="email"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputText id="email" value="#{newCandidacy.email}"
										a:placeholder="E-mail" required="true"
										styleClass="form-control" requiredMessage="" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-4">
									<h:message for="username"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputText id="username" value="#{newCandidacy.username}"
										a:placeholder="Username" required="true"
										styleClass="form-control" requiredMessage="" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-4">
									<h:message for="password"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputSecret id="password" value="#{newCandidacy.password}"
										a:placeholder="Password" required="true"
										styleClass="form-control" requiredMessage="" />
								</h:panelGroup>
							</h:panelGroup>
							<br />
							<h:panelGroup layout="block" styleClass="row">
								<h:panelGroup layout="block" styleClass="col-md-12">
									<h:message for="address"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputText id="address" value="#{newCandidacy.address}"
										a:placeholder="Morada" required="true"
										styleClass="form-control" requiredMessage="" />
								</h:panelGroup>
							</h:panelGroup>
							<br />
							<h:panelGroup layout="block" styleClass="row">
								<h:panelGroup layout="block" styleClass="col-md-3">
									<h:message for="city"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputText id="city" value="#{newCandidacy.city}"
										a:placeholder="Cidade" required="true"
										styleClass="form-control" requiredMessage="" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-3">
									<h:message for="country"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputText id="country" value="#{newCandidacy.country}"
										a:placeholder="País" required="true" styleClass="form-control"
										requiredMessage="" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-3">
									<h:message for="mobile"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputText id="mobile" value="#{newCandidacy.mobile}"
										a:placeholder="Telemóvel" required="true"
										styleClass="form-control" requiredMessage="" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-3">
									<h:message for="phone"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputText id="phone" value="#{newCandidacy.phone}"
										a:placeholder="Telefone" required="true"
										styleClass="form-control" requiredMessage="" />
								</h:panelGroup>
							</h:panelGroup>
							<br />
							<h:panelGroup layout="block" styleClass="row">
								<h:panelGroup layout="block" styleClass="col-md-4">
									<h:message for="course"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputText id="course" value="#{newCandidacy.course}"
										a:placeholder="Curso" required="true"
										styleClass="form-control" requiredMessage="" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-4">
									<h:message for="degree"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputText id="degree" value="#{newCandidacy.degree}"
										a:placeholder="Graduação" required="true"
										styleClass="form-control" requiredMessage="" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-4">
									<h:message for="school"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:inputText id="school" value="#{newCandidacy.school}"
										a:placeholder="Escola" required="true"
										styleClass="form-control" requiredMessage="" />
								</h:panelGroup>
							</h:panelGroup>
							<br />
							<h:panelGroup layout="block" styleClass="row">
								<h:panelGroup layout="block" styleClass="col-md-3">
									<h:message for="posicoes"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<h:panelGroup layout="block" styleClass="form-group">
										<h:selectOneMenu styleClass="form-control btn-info"
											id="posicoes" value="#{newCandidacy.selectedPosition}"
											required="true" requiredMessage="" style="height:34px;">
											<f:selectItem itemLabel="Seleccione uma posição" itemValue=""
												noSelectionOption="true" />
											<f:selectItem itemLabel="Espontânea" itemValue="none" />
											<f:selectItems value="#{newCandidacy.availablePositions}"
												var="pos" itemValue="#{pos.id}"
												itemLabel="P#{pos.id} - #{pos.title}" />
										</h:selectOneMenu>
									</h:panelGroup>
								</h:panelGroup>
								<h:panelGroup layout="block"
									styleClass="col-md-2">
									<h:message for="ficheiro"
										styleClass="glyphicon glyphicon-exclamation-sign" />
									<span class="form-control file-input btn btn-primary btn-file">Curriculum Vitae
									<h:inputFile id="ficheiro" value="#{newCandidacy.file}"
									validator="pt.criticalsoftware.platform.validators.FileValidator"
									styleClass="form-control btn btn-info" required="true" requiredMessage="">
									<f:ajax event="change" render="filename :messages"/>
									</h:inputFile>
									</span>
								</h:panelGroup>
								<h:panelGroup layout="block"
									styleClass="col-md-7">
									<h:outputText id="filename" value="#{newCandidacy.file.submittedFileName.toUpperCase()}" styleClass="form-control text-right"/>
								</h:panelGroup>
							</h:panelGroup>
							<br />
							<h:panelGroup layout="block" styleClass="row">
								<h:panelGroup layout="block"
									styleClass="col-md-offset-8 col-md-4 text-right">
									<h:commandButton action="#{newCandidacy.create()}"
										value="Submeter" styleClass="btn btn-success">
										<f:ajax execute="inputform" render=":container :bottomform :messages" />
									</h:commandButton>
								</h:panelGroup>
							</h:panelGroup>
						</h:form>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="panel-footer">
						<h:form id="bottomform" prependId="false">
							<h:panelGroup layout="block" styleClass="row">
								<h:panelGroup layout="block" styleClass="col-md-4">
									<h:commandLink action="candidacies?faces-redirect=true"
										styleClass="btn btn-info">
										<span class="glyphicon glyphicon-chevron-left"></span> Voltar
									</h:commandLink>
								</h:panelGroup>
								<h:panelGroup layout="block"
									styleClass="col-md-offset-4 col-md-4 text-right">
									<h:commandButton action="#{newCandidacy.reset()}"
										value="Limpar" styleClass="btn btn-default">
										<f:ajax render=":container" onevent="swapButtons();" />
										<f:resetValues render=":container" />
									</h:commandButton>
								</h:panelGroup>
							</h:panelGroup>
						</h:form>
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>
		</ui:define>
	</ui:composition>
</h:body>
</html>
