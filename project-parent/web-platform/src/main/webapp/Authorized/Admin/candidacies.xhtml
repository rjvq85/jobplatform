<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
	<meta charset="utf-8" />
	<h:outputScript library="js" name="jquery-2.1.4.min.js" />
	<h:outputScript library="js" name="bootstrap.js" />
	<h:outputScript library="js" name="tablepagination.js" />
	<h:outputStylesheet library="css" name="mainstyle.css" />
	<h:outputStylesheet library="css" name="bootstrap.css" />
	<title>Plataforma de Emprego - Administrador</title>
</h:head>
<h:body>
	<ui:composition template="../Admin/Layout/layout.xhtml">
		<ui:define name="content">
			<h:form id="candForm" prependId="false">
				<div class="container" id="container">
			<h:panelGroup id="candList" layout="block">
					<div class="title" id="title">
						<div class="page-header">
							<div class="row" id="titlerow">
								<div class="col-md-8">
									<h1>Candidaturas</h1>
								</div>
								<div class="col-md-offset-2 col-md-2">
									<div class="media">
										<h:graphicImage styleClass="media-object" library="imgs"
											name="logocritical.png"
											style="min-height: 50px; height: 50px;" />
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-3">
								<div class="input-group">
									<input type="text" class="form-control"
										placeholder="Pesquisa de candidaturas" /><span
										class="input-group-btn">
										<button class="btn btn-default" type="button">Ir!</button>
									</span>
								</div>
							</div>
							<div class="col-md-offset-6 col-md-3">
								<h5 class="bg-danger text-center">
									<h:message id="mensagens" styleClass="bg-info" />
								</h5>
							</div>
						</div>
						<div class="row spacer"></div>
						<h:panelGroup layout="block" styleClass="row"
							rendered="#{empty candidacyListView.candidacies}">
							<div class="col-md-4">
								<h3>Sem resultados...</h3>
							</div>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="row"
							rendered="#{not empty candidacyListView.candidacies}">
							<div class="col-md-12">
								<table class="table">
									<thead>
										<tr>
											<th>Referência</th>
											<th>Candidato</th>
											<th>Posição</th>
											<th>Entrevista</th>
										</tr>
									</thead>
									<tbody id="myTable">
										<ui:repeat var="c" value="#{candidacyListView.candidacies}">
											<tr>
												<td>C#{c.id}</td>
												<td>#{c.candidate}</td>
												<td>#{c.positionCandidacy}</td>
												<td>Ver Entrevistas</td>
											</tr>
										</ui:repeat>
									</tbody>
								</table>
							</div>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-12 text-center"
							rendered="#{not empty candidacyListView.candidacies}">
							<ul class="pagination" id="myPagination"></ul>
						</h:panelGroup>
						<div class="page-header">
							<div class="row">
								<div class="col-md-5">
									<a href="#" data-toggle="modal" data-target="#myModal"> <span
										class="glyphicon glyphicon-plus-sign"></span>
									</a>Adicionar Candidatura
								</div>
							</div>
						</div>
					</div>
					</h:panelGroup>
					<!-- Modal -->
					<div id="myModal" class="modal fade" role="dialog">
						<div class="modal-dialog">

							<!-- Modal content-->
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal"></button>
									<h4 class="modal-title">Inserir Nova Candidatura</h4>
								</div>
								<div id="mbody" class="modal-body">
									<div class="row">
										<div class="col-md-6">
											<h:inputText id="firstname" value="#{newCandidacy.firstName}"
												a:placeholder="Primeiro Nome" required="true"
												styleClass="form-control" />
										</div>
										<div class="col-md-6">
											<h:inputText id="lastname" value="#{newCandidacy.lastName}"
												a:placeholder="Segundo Nome" required="true"
												styleClass="form-control" />
										</div>
									</div>
									<br />
									<div class="row">
										<div class="col-md-4">
											<h:inputText id="email" value="#{newCandidacy.email}"
												a:placeholder="E-mail" required="true"
												styleClass="form-control" />
										</div>
										<div class="col-md-4">
											<h:inputText id="username" value="#{newCandidacy.username}"
												a:placeholder="Username" required="true"
												styleClass="form-control" />
										</div>
										<div class="col-md-4">
											<h:inputSecret id="password" value="#{newCandidacy.password}"
												a:placeholder="Password" required="true"
												styleClass="form-control" />
										</div>
									</div>
									<br />
									<div class="row">
										<div class="col-md-12">
											<h:inputText id="address" value="#{newCandidacy.address}"
												a:placeholder="Morada" required="true"
												styleClass="form-control" />
										</div>
									</div>
									<br />
									<div class="row">
										<div class="col-md-4">
											<h:inputText id="city" value="#{newCandidacy.city}"
												a:placeholder="Cidade" required="true"
												styleClass="form-control" />
										</div>
										<div class="col-md-4">
											<h:inputText id="country" value="#{newCandidacy.country}"
												a:placeholder="País" required="true"
												styleClass="form-control" />
										</div>
									</div>
									<br />
									<div class="row">
										<div class="col-md-6">
											<h:inputText id="mobile" value="#{newCandidacy.mobile}"
												a:placeholder="Telemóvel" required="true"
												styleClass="form-control" />
										</div>
										<div class="col-md-6">
											<h:inputText id="phone" value="#{newCandidacy.phone}"
												a:placeholder="Telefone" required="true"
												styleClass="form-control" />
										</div>
									</div>
									<br />
									<div class="row">
										<div class="col-md-4">
											<h:inputText id="course" value="#{newCandidacy.course}"
												a:placeholder="Curso" required="true"
												styleClass="form-control" />
										</div>
										<div class="col-md-4">
											<h:inputText id="degree" value="#{newCandidacy.degree}"
												a:placeholder="Graduação" required="true"
												styleClass="form-control" />
										</div>
										<div class="col-md-4">
											<h:inputText id="school" value="#{newCandidacy.school}"
												a:placeholder="Escola" required="true"
												styleClass="form-control" />
										</div>
									</div>
									<br />
									<div class="row">
										<div class="col-md-12">
											<h:inputText id="cv" value="#{newCandidacy.cv}"
												a:placeholder="CV" required="true" styleClass="form-control" />
										</div>
									</div>
								</div>
								<div class="modal-footer ">
									<h:commandButton action="#{newCandidacy.create()}"
										value="Submeter" styleClass="btn btn-success ">
										<f:passThroughAttribute name="data-toggle" value="modal" />
										<f:passThroughAttribute name="data-target" value="#myModal" />
										<f:ajax  render="@form candList" execute="firstname lastname email password username
										mobile phone address city country course degree school cv"/>
									</h:commandButton>
									<button type="reset" class="btn btn-danger ">Limpar</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</h:form>
		</ui:define>
	</ui:composition>
</h:body>
</html>
